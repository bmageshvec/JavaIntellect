package com.app.usecase;

import java.io.IOException;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Sample {
	
	public static void main(String[] args) throws IOException {
		
		String regEx="{\"meta\":{\"status\":true,\"totalRecords\":10,\"total_pages\":1},\"deviceinventories\":[{\"id\":\"8140\",\"deviceId\":\"AC_001\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Assigned\",\"purchaseDate\":\"03/16/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[\"velmurugan.m@as.in\",\"balamurugan.s@prodapt.com\"],\"deviceSubUniqueId\":3},{\"id\":\"8170\",\"deviceId\":\"AC_002\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Available\",\"purchaseDate\":\"03/16/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":4},{\"id\":\"8348\",\"deviceId\":\"AC_003\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":0,\"status\":\"Available\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":5},{\"id\":\"8179\",\"deviceId\":\"ACGat_001\",\"deviceType\":{\"id\":\"7399\",\"deviceTypeId\":7399,\"name\":\"Intel-GateWay\",\"category\":\"Gateway\",\"model\":\"Intel\",\"make\":\"Intel\",\"manufacturer\":\"Intel\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":0,\"interfaceId\":1,\"parameters\":[],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Assigned\",\"purchaseDate\":\"03/16/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":1},{\"id\":\"8177\",\"deviceId\":\"ACMod_001\",\"deviceType\":{\"id\":\"7402\",\"deviceTypeId\":7402,\"name\":\"AC- Module\",\"category\":\"Module\",\"model\":\"AC-Module\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"WiFi\",\"status\":\"Active\",\"deviceTypeUniqueId\":0,\"interfaceId\":2,\"parameters\":[],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Assigned\",\"purchaseDate\":\"03/16/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":1},{\"id\":\"7394\",\"deviceId\":\"CACDUCT01\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Assigned\",\"purchaseDate\":\"03/10/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Private\",\"associatedUsers\":[\"mageshbabu.b@prodapt.com\",\"kamalanathan.c@prodapt.com\"],\"deviceSubUniqueId\":1},{\"id\":\"7396\",\"deviceId\":\"CACDUCTPUB01\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Assigned\",\"purchaseDate\":\"03/10/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[\"mageshbabu.b@prodapt.com\",\"kamalanathan.c@prodapt.com\"],\"deviceSubUniqueId\":2},{\"id\":\"8646\",\"deviceId\":\"Dev_001\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Available\",\"purchaseDate\":\"03/21/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":6},{\"id\":\"8648\",\"deviceId\":\"Dev_002\",\"deviceType\":{\"id\":\"131\",\"deviceTypeId\":131,\"name\":\"Centralised Air Condtioning\",\"category\":\"Device\",\"model\":\"Duct Type\",\"make\":\"Voltas\",\"manufacturer\":\"Voltas\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":3,\"interfaceId\":1,\"parameters\":[{\"id\":\"138\",\"deviceTypePropertyId\":\"138\",\"parameter\":\"Min Tempartue\",\"threshold\":\"28\",\"unit\":\"Celcius\"}],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Available\",\"purchaseDate\":\"03/21/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":7},{\"id\":\"8642\",\"deviceId\":\"Gat_001\",\"deviceType\":{\"id\":\"7399\",\"deviceTypeId\":7399,\"name\":\"Intel-GateWay\",\"category\":\"Gateway\",\"model\":\"Intel\",\"make\":\"Intel\",\"manufacturer\":\"Intel\",\"supportedProtocol\":\"Zigbee\",\"status\":\"Active\",\"deviceTypeUniqueId\":0,\"interfaceId\":1,\"parameters\":[],\"inventoryAssociated\":false},\"serviceId\":133,\"service\":{\"id\":\"133\",\"serviceId\":133,\"name\":\"Centralized AC Service\",\"description\":\"Centralised Air Conditioning Service\",\"status\":\"Active\",\"serviceType\":\"Enterprise\",\"serviceCategoryId\":0,\"lastUpdatedOn\":1458132862573,\"deviceTypeObjs\":[],\"associated\":false},\"status\":\"Available\",\"purchaseDate\":\"03/21/2016\",\"createdBy\":\"kamalanathan.c@prodapt.com\",\"entityId\":\"140\",\"inventoryType\":\"Public\",\"associatedUsers\":[],\"deviceSubUniqueId\":2}]}";
		Pattern pt= Pattern.compile("deviceId\":\"([^\"]+).+?\"category\":\"([^\"]+)\"");
		//String responseStr=new String(data);
		Matcher m=pt.matcher(regEx);
		int deviceCount=0;
		while(m.find())
		{
			if(m.group(2).equals("Device"))
			{
				deviceCount++;
				if(deviceCount>2)
				{
					continue;
				}
				System.out.println("Device"+deviceCount+"Matches found"+m.group(1)+"==>");
			}
			else if(m.group(2).equals("Module"))
			{
				System.out.println("Module found"+m.group(1));
			}
			else if(m.group(2).equals("Gateway"))
			{
				System.out.println("Gate"+m.group(1));
			}
		}
		
	}

}
